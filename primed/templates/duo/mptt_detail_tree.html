{% load mptt_tags %}

{% drilldown_tree_for_node object as drilldown all_descendants %}

<div class="card my-3">
  <div class="card-header">
    Tree
  </div>
  <div class="card-body">
    {% for node,structure in drilldown|tree_info %}
      {% if structure.new_level %}
        <ul class="list-group list-group-flush py-0">
          <li class="list-group-item border-0 py-0">
      {% else %}
          </li>
          <li class="list-group-item border-0 py-0">
      {% endif %}
      {% if node.is_root_node %}
            <i class="bi-arrow-bar-right"></i>
      {% else %}
            <i class="bi-arrow-return-right"></i>
      {% endif %}

      {% if node == object %}
            <strong>{{ node }}</strong>
      {% else %}
            {{ node }} (<a href="{{ node.get_absolute_url }}">Details</a>)
      {% endif %}
      {% for level in structure.closed_levels %}
          </li>
        </ul>
      {% endfor %}
    {% endfor %}
  </div>
</div>
